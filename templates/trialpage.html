{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}{% endblock %}</h1>
{% endblock %}

{% block content %}
  <body>
    {% for result in results %}
    <h1>{{ result.trial_name }}</h1>

    <form action="{{ url_for('add_save') }}" method="POST">
      <input type="hidden" name="trial_id" value="{{ result.nct }}">
      <button type="submit">Add to Favorites</button>
    </form>

    <form action="{{ url_for('remove_save') }}" method="POST">
      <input type="hidden" name="trial_id" value="{{ result.nct }}">
      <button type="submit">Remove from Favorites</button>
    </form>

    <h2>Description</h2>
    <p>{{ result.description }}</p>

    <h2>Basic Information</h2>
    <ul>
      <li>NCT Number: {{ result.nct }}</li>
      <li>Status: {{ result.status }}</li>
      <li>Number of Patients: {{ result.number_of_patients }}</li>
      <li>Type: {{ result.type }}</li>
      <li>Phase: {{ result.phase | join(', ') }}</li>
      <li>Start Date: {{ result.start_date }}</li>
      <li>End Date: {{ result.end_date }}</li>
    </ul>

    <h2>Eligibility</h2>
    <ul>
      <li>Age: {{ result.age | join(', ') }}</li>
      <li>Sex: {{ result.sex }}</li>
    </ul>

    <h2>Condition/Intervention Information</h2>
    <ul>
      <li>Cancer Type: {{ result.cancer_type }}</li>
      <li>Treatment: {{ result.treatment }}</li>
      <li>Treatment Type: {{ result.treatment_type }}</li>
      <li>Primary Outcome Measurements: {{ result.primary_measurements }}</li>
      <li>Secondary Outcome Measurements: {{ result.secondary_measurements }}</li>
      <li>Other: {{ result.other }}</li>
    </ul>
    {% endfor %}

    <h2>Location(s)</h2>
    {% for location in locations %}
    Location Name: {{ location.location_name }}
    <ul>
      <li>Address: {{ location.address_city }},
                   {{ location.address_state }},
                   {{ location.address_zipcode }},
                   {{ location.address_country }}
    </ul>
    {% endfor %}

    <h2>Sponsor(s) Information</h2>
    {% for sponsor in sponsors %}
    Institution Name(s): {{ sponsor.institution_name }}
    <ul>
      <li>Contact Person Name: {{ sponsor.contact_person_name }}</li>
      <li>Phone Number: {{ sponsor.phone_number }}</li>
      <li>Email: {{ sponsor.email }}</li>
      <li>Address: {{ sponsor.address_street }},
                   {{ sponsor.address_city }},
                   {{ sponsor.address_state }},
                   {{ sponsor.address_zipcode }},
                   {{ sponsor.address_country }}
    </ul>
    {% endfor %}

  </body>

{% endblock %}
